# 프로세스 
> 실행 중인 프로그램의 단위
- **프로그램**: HDD/SSD에 저장된 실행 파일(아직 실행 안 됨)
- **프로세스**: 프로그램이 **메모리에 올라가 실행 중인 상태**
- **스레드**: 프로세스 내부에서 실제로 **CPU가 실행하는 작업 흐름**
#### 동작흐름
<img width="417" height="307" alt="image" src="https://github.com/user-attachments/assets/06c6d403-16d7-4075-8a42-1ee414dc83ff" />

1. 프로그램이 HDD/SSD에 있음
2. 실행하면 메모리에 로드 → **프로세스 생성(인스턴스화)**
3. OS의 **CPU 스케줄러**가 어떤 프로세스를 실행할지 결정
4. CPU가 선택된 프로세스(정확히는 그 안의 스레드)를 실행
# 프로세스와 컴파일 과정 
> **프로세스** = 컴파일이 끝난 실행 파일이 메모리에 올라가 실행되는 상태
## 컴파일 과정 (C 기준)
> **목적: 소스 코드 → 실행 가능한 파일**
<img width="668" height="541" alt="image" src="https://github.com/user-attachments/assets/1a6f5d4b-b2c5-4073-ad37-00175fe0f373" />

### 전처리 (Preprocessing)
- 주석 제거
- `#include`로 포함된 헤더 파일 내용 병합
- `#define` 매크로 치환
- **결과물**: 순수 C 코드 (아직 기계어 아님)
### 컴파일러 (Compiler)
- 고급언어 → **어셈블리 코드**로 변환
- 문법 오류, 타입 오류 여기서 잡힘
### 어셈블러 (Assembler)
- 어셈블리 → **기계어(Object file)** 변환

- .o 파일 생성
### 링커 (Linker)
- 여러 object 파일을 하나의 실행 파일로 결합
- 함수/변수 주소를 실제 메모리 주소로 연결
#### 정적 라이브러리와 동적 라이브러리
- **정적 라이브러리**
  - 빌드 시 실행 파일에 포함
  - 👍 외부 의존성 낮음 / 👎 실행 파일 큼
- **동적 라이브러리**
  - 실행 시 필요할 때 로드(DLL, so)
  - 👍 메모리 효율 / 👎 외부 의존성 높음 (ex. 경로나 버전이 다름)
# 프로세스의 상태
> 프로세스는 실행 ↔ 대기 ↔ 중단을 반복하는 상태 머신이다.
<img width="465" height="210" alt="image" src="https://github.com/user-attachments/assets/e45f7d77-bd75-4e1d-9ae4-56338927a3e2" />

- 프로세스는 실행 동안 여러 상태를 오가며 CPU와 메모리를 사용한다.
- 핵심은 “**CPU를 쓰고 있나?**”, “**메모리에 있나?**”, “**무엇을 기다리나?**”다.
## 생성 상태 (Created / New)
- 프로세스가 막 만들어진 상태
- **PCB(Process Control Block)** 가 생성됨
- 주소 공간 할당 준비 단계
### `fork()`
- **부모 프로세스의 주소 공간을 복사**해 자식 생성
- 실제로는 **Copy-on-Write**: 메모리 공유하다가(read-only) 쓰기(write)할 때 복제
- PID는 새로 부여
### `exec()`
> **현재 프로세스의 코드/데이터를 새 프로그램으로 교체**
- PID 유지
- “새 프로세스를 만드는 함수”가 아니라 **프로세스 내용 교체**
## 대기 상태 (Ready)
> **CPU만 기다리는 상태**
## 대기 중단 상태 (Ready Suspended)
> 메모리 부족으로 일시 중단된 상태 
## 실행 상태 (Running)
> CPU를 실제로 점유하여 명령어 실행 중
- 타임 슬라이스가 끝나면 Ready로 돌아감
- 이 구간을 CPU burst라고도 부름
## 중단 상태 (Blocked / Waiting)
- I/O, 이벤트, 락 등을 기다림
- CPU를 줘도 쓸 수 없는 상태
- 예: 디스크 읽기, 네트워크 응답 대기
- 👉 “CPU가 아니라 외부 사건을 기다림”
## 일시 중단 상태 (Blocked Suspended) 
- 메모리 부족으로 일시 중단된 상태 
## 종료 상태
- 정상 종료 또는 비정상 종료
- 자원 해제(메모리, 파일 디스크립터 등)
- 부모가 wait()로 회수하기 전까지 좀비로 남을 수 있음
# 프로세스의 메모리 구조
## 스택과 힙
## 데이터 영역과 코드 영역
# PCB
## PCB의 구조
## 컨텍스트 스위칭
### 비용: 캐시미스
### 스레드에서의 컨텍스트 스위칭
# 멀티 프로세싱
## 웹 브라우저
## IPC
### 공유 메모리
### 파일
### 소켓
### 익명 파이프
### 명명된 파이프
### 메시지 큐
# 스레드와 멀티스레딩
## 스레드
## 멀티스레딩
# 공유 자원과 임계 영역
## 공유 자원
## 임계 영역
### 뮤텍스
### 세마포어
#### 바이너리 세마포어
#### 카운팅 세마포어
### 모니터
# 교착 상태
## 교착 상태의 원인
## 교착 상태의 해결 방법
